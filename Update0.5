local function enterKey(inputKey)
    -- Main script is hidden inside the loadstring
    loadstring([[
        -- Internal script (hidden logic)
        local keys = {
            ["key1"] = nil,  -- Key 1: not used yet
            ["key2"] = nil,  -- Key 2: not used yet
            ["key3"] = nil,  -- Key 3: not used yet
            -- Add more keys as needed
        }

        local TweenService = game:GetService("TweenService")
        local RunService = game:GetService("RunService")

        local ScreenGui = Instance.new("ScreenGui")
        local Frame = Instance.new("Frame")
        local ImageLabel = Instance.new("ImageLabel")
        local BlurEffect = Instance.new("BlurEffect")

        -- Properties:

        ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
        ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

        -- Set up Frame for positioning
        Frame.Parent = ScreenGui
        Frame.BackgroundColor3 = Color3.fromRGB(40, 40, 34)
        Frame.BackgroundTransparency = 1.000  -- Fully transparent background (remove grey square)
        Frame.BorderColor3 = Color3.fromRGB(0, 0, 0)
        Frame.BorderSizePixel = 0
        Frame.Position = UDim2.new(0.5, -272, 0.5, -146)  -- Centered position
        Frame.Size = UDim2.new(0, 545, 0, 331)

        -- Set up ImageLabel and position it in the center of the screen
        ImageLabel.Parent = Frame
        ImageLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
        ImageLabel.BackgroundTransparency = 1.000
        ImageLabel.BorderColor3 = Color3.fromRGB(0, 0, 0)
        ImageLabel.BorderSizePixel = 0
        ImageLabel.Position = UDim2.new(0.5, -201.5, 0.5, -73)  -- Center image inside the frame (half of the image size)
        ImageLabel.Size = UDim2.new(0, 403, 0, 146)
        ImageLabel.Image = "http://www.roblox.com/asset/?id=127749314384695"

        -- Create a blur effect and set it in Lighting
        BlurEffect.Parent = game.Lighting
        BlurEffect.Enabled = true
        BlurEffect.Size = 10  -- Set the initial blur size

        -- Function to show the notification and control blur duration
        local function showNotification()
            -- Wait for 3 seconds to keep the image and blur visible
            wait(3)

            -- Remove the blur after 3 seconds
            BlurEffect.Enabled = false

            -- Destroy the ScreenGui after the blur effect is finished
            ScreenGui:Destroy()

            -- Show Roblox notification saying "Katanaware is now loaded"
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "Katanaware",
                Text = "Katanaware is now loaded",
                Duration = 5
            })

            -- Execute the first external script after the image and notification
            loadstring(game:HttpGet("https://raw.githubusercontent.com/katanaWYD/katanaware/refs/heads/main/LOLOLOLOLOLOLOLOLOLOLL"))()

            -- Execute the second external script after the first one
            loadstring(game:HttpGet("https://pastebin.com/raw/xsXq8bYP"))()
        end

        -- Function to check the key before showing the notification
        local function checkKeyAndProceed(inputKey)
            if keys[inputKey] == nil then
                -- If the key hasn't been used yet, mark this user as the one who used it
                keys[inputKey] = game.Players.LocalPlayer.UserId
                showNotification()
            else
                -- If the key has already been used, prevent others from using it
                if keys[inputKey] == game.Players.LocalPlayer.UserId then
                    -- The user who used the key can still proceed
                    showNotification()
                else
                    -- If someone else has already used the key, show a message
                    print("The key has already been used by another user!")
                end
            end
        end

        -- Run the check for the entered key
        local enteredKey = "]] .. inputKey .. [["
        checkKeyAndProceed(enteredKey)
    ]])()
end

-- Example of entering the key (user interacts with this)
enterKey(gen.genvkey)  -- The user will input their key here (e.g., "key1")
